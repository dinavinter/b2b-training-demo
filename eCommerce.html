<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">


    <title> eCommerce </title>

      <script type="module">

       import loadGigya from "./scripts/loadGigya.js"
       import { get_assets} from "./scripts/authorization.js";
       import { clientCfg} from "./scripts/configuration.js";

        const app = clientCfg.getApp("eCommerce");


        async function loadApp() {
           loadGigya(clientCfg.domain, app.apikey);

            const assets = await get_assets( app.appId, "access");
            const role = assets[0].roleName;
            document.getElementById('div').innerHTML = `<pre>Welcome to ${app.appName} your role is "${role}"</pre>`;

       }

       loadApp().catch(e=>document.getElementById('div').innerText=e)


    </script>


</head>
<body>

<div>
    
<div id="div">

</div>

<a href="./index.html"> Go to main page </a>

</div>

</body>
</html>
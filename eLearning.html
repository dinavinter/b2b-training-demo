<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">


    <title> eLearning </title>

    <!-- <script type="module" src="./scripts/authorization.js"  >    </script> -->
    <!--<script type="module" src="./scripts/jwt.js"  type="module"> </script>-->
    <script  type="module" src="./scripts/configuration.js" > </script>
    <script type="module">


        import loadGigya from "./scripts/loadGigya.js"
        import { get_assets} from "./scripts/authorization.js";
        import { clientCfg} from "./scripts/configuration.js";

        const app = clientCfg.getApp("eLearning");


        async function loadApp() {
            loadGigya(clientCfg.domain, app.apikey);

            const assets = await get_assets( app.appId, "access");
            const role = assets[0].roleName;
            document.getElementById('div').innerHTML = `<pre>Welcome to ${app.appName} your role is "${role}"</pre>`;

        }

        loadApp().catch(e=>document.getElementById('div').innerText=e)



    </script>


</head>
<body>

<div>
    
<div id="div">

</div>

</div>

</body>
</html>